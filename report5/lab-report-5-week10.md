# **Report 5 (Week 9-10)**

<font size= "2">By: Anthony Ton (A16841070)</font>

Two tests where my group's implementation provided different answers than the provided implementation for lab 9: `201.md` and `472.md`

I found these tests by using `vimdiff` on the `results.txt` file that I generated on my group's implementation and the provided implementation. `Results.txt` was generated by using the provided `script.sh` file. I ran `bash script.sh > results.txt` to generate the file on each implementation. Afterwards, I ran `vimdiff ~/markdown-parser/results.txt ~/week-9-markdown-parser/results.txt` to look at and compare the differences in output between the two implementations on all of the test files in `test-files/`, like seen in the two pictures below. Then I picked any two tests that have different outputs, which are `201.md` and `472.md`. 

| ![vimdiff201](vimdiff201.png) |
|:--:|
| <b>Difference in output of `201.md` when ran using my group's implementation (left) and the provided implementation (right)</b>|

| ![vimdiff472](vimdiff472.png) |
|:--:|
|<b> Difference in output of `472.md` when ran using my group's implementation (left) and the provided implementation (right)</b>|

Link to `201.md`: [https://github.com/nidhidhamnani/markdown-parser/blob/main/test-files/201.md?plain=1](https://github.com/nidhidhamnani/markdown-parser/blob/main/test-files/201.md?plain=1)

Link to `472.md`: [https://github.com/nidhidhamnani/markdown-parser/blob/main/test-files/472.md?plain=1](https://github.com/nidhidhamnani/markdown-parser/blob/main/test-files/472.md?plain=1)

## **Test File `201.md`** ##

### **Expected Output:** ###
By using VSCode Preview on the test file, the expected output when running `MarkdownParse` on `201.md` is `[]`, meaning that there should be no links in `201.md`. The below picture shows the expected output of the test using VSCode Preview.

| ![expected201](expected201.png) |
|:--:|
|<b>Expected output of `MarkdownParse` when ran on `201.md` using VSCode Preview</b>

### **My Group's Implementation's Output:** ###

When running my group's implementation on `201.md`, we got `[]`, as you can see in the picture below.

| ![myImplementation201Output](myImplementation201Output.png) |
|:--:|
|<b>Output of my group's implementation when running it in on `201.md`</b>|

### **Provided Implementation's Output:** ###

When running the provided implementation on `201.md`, we got `[baz]`, as you can see in the picture below.

| ![providedImplementation201Output](providedImplementation201Output.png) |
|:--:|
|<b>Output of the provided implementation when running it on `201.md`</b>|

Based on the expected output from VSCode Preview, my group's implementation for `201.md` is correct, while the provided implementation is incorrect.

I believe the bug in the provided implementation is that it does not check whether the `]` and `(` are next to each other when it finds all 4 of `[, ], (,` and `)`. If the `]` and `(` are not next to each other, then it does not constitute a markdown link formatting. In the following picture of the code, the highlighted part is where the code change should be added in. The change should be about checking whether `]` comes right before `(`, (i.e the formatting should look like `"...](..."`) before adding the link into the ArrayList.

| ![201BugFix](201BugFix.png) |
|:--:|
|<b>The highlighted part is where the code change should be added for the provided implementation </b>|

## **Test File `472.md`** ##

### **Expected Output** ###
By using VSCode Preview on the test file, the expected output when running `MarkdownParse` on `472.md` is `[/url]`, meaning that there is a link called `/url` in `472.md`. The below picture shows the expected output of the test using VSCode Preview.

| ![expected472](expected472.png) |
|:--:|
|<b> Expected output of `MarkdownParse` when ran on `472.md` using VSCode Preview. </b>|

### **My Group's Implementation's Output:** ###

When running my group's implementation on `472.md`, we got `[]`, as you can see in the picture below.

| ![myImplementation472Output](myImplementation472Output.png) |
|:--:|
|<b>Output of my group's implementation when running it in on `472.md`</b>|

### **Provided Implementation's Output:** ###

When running the provided implementation on `472.md`, we got `[/url]`, as you can see in the picture below.

| ![providedImplementation472Output](providedImplementation472Output.png) |
|:--:|
|<b>Output of the provided implementation when running it on `472.md`</b>|

Based on the expected output from VSCode Preview, the provided implementation for `472.md` is correct, while my group's implementation is incorrect.

I believe the bug in my group's implementation is that for every potential link that we add in, we only check to see if the link has a `.` in it, and not whether if it has a `/`, which could also represent a valid link within the markdown file's directory. In the following picture, the highlighted part is where the code change should be. The change would include a way to identify if there is a `.` *or* a `/` in `link` inside the if statement to make sure that it is a valid link before adding it into the ArrayList that will be returned.

| ![472BugFix](472BugFix.png) |
|:--:|
|<b>The highlighted part is where the code change should be for my group's implementation</b>|

### Sources
* [Provided implementation](https://github.com/nidhidhamnani/markdown-parser)
* [`201.md`](https://github.com/nidhidhamnani/markdown-parser/blob/main/test-files/201.md?plain=1)
* [`472.md`](https://github.com/nidhidhamnani/markdown-parser/blob/main/test-files/472.md?plain=1)